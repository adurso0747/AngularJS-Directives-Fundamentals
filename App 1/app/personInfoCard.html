<user-panel name="{{vm.person.name}}" collapsed="{{initialCollapsed}}" level="vm.person.level">
    <address></address>
    <br/>

    <h4>Friends:</h4>
    <ul>
        <li ng-repeat='friend in vm.person.friends'>
            {{friend}}
            <remove-friend method="vm.removeFriend(friend)"></remove-friend>
        </li>
    </ul>
    <div ng-show="!!vm.person.rank">
        Rank : {{vm.person.rank}}
    </div>
    <button ng-show="!vm.person.rank" class="btn btn-success" ng-click="vm.knightMe()">Knight Me</button>

    <modal open="vm.showKnightModal" options="{width: '100px', left: '40px'}" on-close="knightModalDone(response)">
        <div class="card">
            <div class="card-header">Jedi Knight</div>
            <div class="card-body">
                <p>Do you want the Jedi Knight Rank granted to {{vm.person.name}}?</p>
                <button class="btn btn-success" ng-click="vm.knightDialogDone(true, vm.person)">Yes</button>
                <button class="btn btn-danger" ng-click="vm.knightDialogDone(false, vm.person)">No</button>
            </div>
        </div>
    </modal>
</user-panel>
